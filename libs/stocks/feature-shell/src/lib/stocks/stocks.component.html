<div role="main">
  <form [formGroup]="stockPickerForm" name="stockPickerForm" role="form">
    <mat-form-field>
      <input
        matInput
        placeholder="Symbol e.g AAPL"
        formControlName="symbol"
        value=""
        name="symbol"
        role="textbox"
        aria-label="enter symbol"
        id="symbolId"
      />
      <mat-error role="alert"
        ><span
          *ngIf="
            !stockPickerForm.get('symbol').valid &&
            stockPickerForm.get('symbol').touched
          "
          >Please enter a symbol</span
        >
      </mat-error>
    </mat-form-field>
  
    <mat-form-field>
      <mat-label>Favorite time period</mat-label>
      <mat-select
        formControlName="period"
        name="period"
        role="listbox"
        aria-label="select time period"
        id="periodId"
      >
        <mat-option
          role="option"
          *ngFor="let timePeriod of timePeriods"
          [value]="timePeriod.value"
        >
          {{ timePeriod.viewValue }}
        </mat-option>
      </mat-select>
      <mat-error role="alert"
        ><span
          *ngIf="
            !stockPickerForm.get('period').valid &&
            stockPickerForm.get('period').touched
          "
          >Please select a period</span
        >
      </mat-error>
    </mat-form-field>
  
    <button type="button" name="submit" aria-label="get stocks data" (click)="fetchQuote()" mat-raised-button>Go</button>
  </form>
  
  <coding-challenge-chart [data$]="quotes$"></coding-challenge-chart>
</div>
